{% extends "travelpad/base.html" %}
{% load staticfiles %}
{% block head %}
		<title>TravelPad - Itinerary List</title>
		<style>
			.itinerary {
				padding-top:70px;
			}
			.thumbnail {
				width:600px;
			}
			.info {
				vertical-align: top;
			}
		</style>
{% endblock %}

{% block nav %}
{% include "travelpad/nav.html" with itineraries_active='class="active"' %}
{% endblock %}

{% block content %}
		<input class="btn btn-info" id="addItineraryButton" type="button" value="&plus;" />
		<table>
		{% for itinerary in itineraries %}
			<tr>
				<td><a href="{% url 'itinerary' itinerary.id %}"><img src="{% url 'debug_get_itinerary_photo' itinerary.id %}" alt="no picture uploaded yet" class="thumbnail"></a></td>
				<td class="info">
					<form action="{% url 'update_itinerary_page' itinerary.id %}">
						<input class="btn btn-info" id="editItineraryButton" type="submit" value="Edit" />
					</form>
					<h2>{{itinerary.title}}</h2>
					{{itinerary.description}}
				</td>
			</tr>
		{% endfor %}
		</table>
{% endblock %}

{% block tail %}
		<script>
			$("#addItineraryButton").click( function(){
				editItinerary(-1);
			});
			function editItinerary(id){
				$.ajax({
					method: "GET",
					url: "update_itinerary_page/" + id,
					success: function(data, status) {
						window.location.replace("{% url 'debug_database' %}");
					}
				
				alert("hi " + id);
			};
		</script>
{% endblock %}